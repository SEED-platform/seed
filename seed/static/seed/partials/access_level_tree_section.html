<!-- variables: children, access_level_names, current_level -->

<!-- <div ng-repeat="child in children track by child.id"> -->
  <!-- <div ng-if="!child.children">
    {$ child.data.name $} - {$ current_level $}
  </div> -->

  <div ng-repeat="child in children track by child.id" uib-accordion-group class="panel-info" is-open="al[current_level][child.id].open">
    <uib-accordion-heading>
        <b>{$ child.data.name $}</b>
        <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': al[current_level][child.id].open, 'glyphicon-chevron-right': !al[current_level][child.id].open}"></i>
    </uib-accordion-heading>
    <div class="clean-list">
      <uib-accordion ng-if="child.children">
        <div
            ng-include="::urls.static_url + 'seed/partials/access_level_tree_section.html'"
            ng-init="children = child.children; access_level_names = access_level_names; current_level = current_level + 1">
        </div>
      </uib-accordion>
    </div>
  </div>

  <!-- <uib-accordion ng-if="child.children">
  <div class="accordion-header" style="margin: 2px 0">
      <button
          class="accordion-button"
          type="button"
          data-toggle="collapse"
          data-target="#level-{$ $index $}"
      >
          <i class="fa fa-chevron-down accordion-indicator-default-open" id="indicator-{$ child.id $}"></i>
          <span class="event-detail">
            {$ child.data.name $}
            <span>
              <button class="btn btn-default btn-xs" type="button" ng-click="open_edit_al_instance_modal(child.id, child.data.name)" tooltip-placement="bottom" uib-tooltip="Edit {$ child.data.name $}">
                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
              </button>
            </span>
          </span>
      </button>
  </div>

  <div id="level-{$ child.id $}" class="accordion-body event-collapse collapse in">
      <div
          ng-include="::urls.static_url + 'seed/partials/access_level_tree_section.html'"
          ng-init="children = child.children; access_level_names = access_level_names; current_level = current_level + 1">
      </div>
  </div>
  </uib-accordion>
    <div ng-if="!child.children">
      {$ child.data.name $}
    </div>
</div> -->
