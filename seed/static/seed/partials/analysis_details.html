<div class="table_list_container">
    <table id="analysis-table" class="table table-striped table_highlight_first">
        <thead>
        <tr>
            <th translate>Number of Runs</th>
            <th translate>Type</th>
            <th translate>Configuration</th>
            <th translate>Created</th>
            <th translate>Run Status</th>
            <th translate>Latest Message</th>
            <th translate>Run Date</th>
            <th translate>Run Duration</th>
            <th translate>Run Author</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>{$:: analysis.number_of_analysis_property_views $}</td>
            <td>{$:: analysis.service $}</td>
            <td>
                <ul ng-repeat="(config, setting) in analysis.configuration" >
                    <li ng-if="!has_children(setting)">{$:: config $} = {$:: setting $}</li>
                </ul>
                <ul ng-if="analysis.configuration.select_meters && analysis.configuration.select_meters == 'select'">
                    <li>
                    meter start date = {$:: analysis.configuration.meter.start_date | date : "shortDate" $}</li>
                    <li>
                        meter end date = {$:: analysis.configuration.meter.end_date | date : "shortDate" $}</li>
                </ul>
            </td>
        <td>{$:: analysis.created_at | date : 'MM-dd-yyyy HH:mm' $}</td>
        <td class="analysis-status {$ analysis.status.toLowerCase() $}">
            <i
                class="fa fa-refresh fa-pulse fa-fw" style="padding-right: 0"
                ng-if="!analysis._finished_with_tasks"></i>
            {$ analysis.status $}
        </td>
        <td>{$:: (messages | filter : {'analysis_property_view':null})[0]['user_message'] $}</td>
        <td>{$:: analysis.start_time | date : 'MM-dd-yyyy HH:mm' $}</td>
        <td>{$:: analysis | get_run_duration $}</td>
        <td>{$:: users | filter : {'user_id':analysis.user} | getAnalysisRunAuthor $}</td>
        </tr>
        </tbody>
    </table>
</div>
