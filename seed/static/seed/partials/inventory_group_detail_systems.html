<div class="page_header_container">
  <div class="page_header">
    <div class="left page_action_container">
      <a ui-sref="inventory_groups(::{inventory_type: inventory_type})" class="page_action">
        <i class="fa-solid fa-chevron-left"></i>
        {$:: 'Groups' | translate $}
      </a>
    </div>
    <div class="page_title">
      <h1>{$:: 'Group Detail' | translate $}</h1>
    </div>
    <div class="right page_action_container"></div>
  </div>
</div>
<div class="section_nav_container">
  <div class="section_nav" ng-include="::urls.static_url + 'seed/partials/inventory_group_detail_nav.html'"></div>
</div>

<button ng-show="menu.user.organization.user_role !== 'viewer'" type="button" class="col-sm-2 btn btn-info"
  ng-click="open_create_system_modal()"> New System </button>
<ul>
  <ul ng-repeat="system in systems">
    <div style="display:flex; gap:1rem">
      <p>{$ system.type | translate $} - {$ system.name $}</p>
      <button ng-show="menu.user.organization.user_role !== 'viewer'" type="button" class="col-sm-2 btn btn-info"
        ng-click="open_create_service_modal(system)"> New Service </button>
    </div>
    <ul>
      <li ng-repeat="service in system.services">
        {$ service.name $}
        <ul>
          <li ng-repeat="(property, meters) in service.properties">{$ property $}
            <ul>
              <li ng-repeat="meter in meters">{$ meter.alias $}</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </ul>
</ul>
