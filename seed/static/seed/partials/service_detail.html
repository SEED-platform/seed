<div class="page_header_container">
  <div class="page_header">
    <div class="left page_action_container">
      <a ui-sref="inventory_group_detail_systems(::{inventory_type: inventory_type, group_id: group_id})"
        class="page_action">
        <i class="fa-solid fa-chevron-left"></i>
        {$:: 'Systems' | translate $}
      </a>
    </div>
    <div class="page_title">
      <h1>{$ service.system_name $}-{$ service.name $}</h1>
    </div>
    <div class="right page_action_container"></div>
  </div>
</div>

<div style="display: flex; padding: 20px 20px 0px 20px; justify-content: flex-end">
  <button ng-show="menu.user.organization.user_role !== 'viewer'" type="button" class="btn btn-primary"
    style="width: 200px;" ng-click="open_group_meter_create_modal()">
    Create Meter
  </button>
</div>

<div class="system-table-container" style="margin: 20px">
  <table class="table table-striped table_highlight_first system-table"
    style="margin: 20px solid #dddddd; border-collapse: collapse">
    <thead>
      <tr>
        <th ng-repeat="header in headers">{$ header $}</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="property in service.properties" style="border-bottom: 1px solid gray">
        <!-- Property -->
        <td>
          <a ui-sref="inventory_detail({inventory_type: 'properties', view_id: property.property_view_id})">
            {$ property.property_display_name || property.property_id $}
          </a>
        </td>
        <!-- Connected Via -->
        <td>
          <a ui-sref="inventory_detail_meters({inventory_type: 'properties', view_id: property.property_view_id})">
            {$ property.meter_alias || property.meter_id $}
          </a>
        </td>
        <!-- Connected Type -->
        <td>
          {$ property.meter_type $}
        </td>
        <!-- Meter Data? -->
        <td>
          {$ property.has_meter_data $}
        </td>
      </tr>
    </tbody>
  </table>
</div>
